1. AKS systempool에 taint 설정

az aks nodepool update ^
--subscription <구독 이름> ^
--cluster-name <AKS Cluster 리소스 이름> ^
--resource-group <AKS Cluster 리소스 그룹> ^
--name <노드풀 이름> ^
--node-taints CriticalAddonsOnly=true:NoSchedule


az aks nodepool update ^
--subscription e2f05a33-aba2-4049-9296-6b075bdda75f ^
--cluster-name conn-extnet-shared-prd-aks ^
--resource-group conn-net-shared-aks-cluster-cmn-rg ^
--name systempool ^
--node-taints CriticalAddonsOnly=true:NoSchedule


2. AKS cost-analysis 적용

az aks update ^
--subscription <구독 이름> ^
--name <AKS Cluster 리소스 이름> ^
--resource-group <AKS Cluster 리소스 그룹> ^
--enable-cost-analysis

az aks update ^
--subscription e2f05a33-aba2-4049-9296-6b075bdda75f ^
--name conn-extnet-shared-prd-aks ^
--resource-group conn-net-shared-aks-cluster-cmn-rg ^
--enable-cost-analysis